"use strict";(self.webpackChunkblogsaurus=self.webpackChunkblogsaurus||[]).push([[6933],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>k});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var i=r.createContext({}),o=function(e){var t=r.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},s=function(e){var t=o(e.components);return r.createElement(i.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,i=e.parentName,s=u(e,["components","mdxType","originalType","parentName"]),d=o(n),m=a,k=d["".concat(i,".").concat(m)]||d[m]||c[m]||l;return n?r.createElement(k,p(p({ref:t},s),{},{components:n})):r.createElement(k,p({ref:t},s))}));function k(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,p=new Array(l);p[0]=m;var u={};for(var i in t)hasOwnProperty.call(t,i)&&(u[i]=t[i]);u.originalType=e,u[d]="string"==typeof e?e:a,p[1]=u;for(var o=2;o<l;o++)p[o]=n[o];return r.createElement.apply(null,p)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},24074:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>p,default:()=>c,frontMatter:()=>l,metadata:()=>u,toc:()=>o});var r=n(87462),a=(n(67294),n(3905));const l={sidebar_position:34},p="34. [flutter] package:auto_updater \uc0ac\uc6a9\ud558\uae30",u={unversionedId:"flutter/flutter34",id:"flutter/flutter34",title:"34. [flutter] package:auto_updater \uc0ac\uc6a9\ud558\uae30",description:"---",source:"@site/docs/flutter/flutter34.md",sourceDirName:"flutter",slug:"/flutter/flutter34",permalink:"/docs/flutter/flutter34",draft:!1,tags:[],version:"current",sidebarPosition:34,frontMatter:{sidebar_position:34},sidebar:"dartSidebar",previous:{title:"33. [flutter] Icon \ubcc0\uacbd",permalink:"/docs/flutter/flutter33"},next:{title:"01. [KOSTA] \ud50c\ub7ec\ud130 \uad50\uc721 - 1\ud68c\ucc28",permalink:"/docs/flutter-kosta/kosta1"}},i={},o=[{value:"\uc2dc\uc791\ud558\uae30",id:"\uc2dc\uc791\ud558\uae30",level:2},{value:"Windows",id:"windows",level:2},{value:"\uc0ac\uc804 \uc791\uc5c5",id:"\uc0ac\uc804-\uc791\uc5c5",level:3},{value:"\ud0a4 \ubc1c\uae09",id:"\ud0a4-\ubc1c\uae09",level:3},{value:"dart \ucf54\ub4dc \ucd94\uac00",id:"dart-\ucf54\ub4dc-\ucd94\uac00",level:3},{value:"distribute_options.yaml",id:"distribute_optionsyaml",level:3},{value:"flutter_distributor",id:"flutter_distributor",level:3}],s={toc:o},d="wrapper";function c(e){let{components:t,...n}=e;return(0,a.kt)(d,(0,r.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"34-flutter-packageauto_updater-\uc0ac\uc6a9\ud558\uae30"},"34. ","[flutter]"," package:auto_updater \uc0ac\uc6a9\ud558\uae30"),(0,a.kt)("hr",null),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://pub.dev/packages/auto_updater"},"auto_updater URL"),"\uc5d0 \ub4e4\uc5b4\uac00\ubcf4\uba74 \ud574\ub2f9 \uc815\ubcf4\ub97c \ud655\uc778\ud560 \uc218 \uc788\ub2e4.."),(0,a.kt)("h2",{id:"\uc2dc\uc791\ud558\uae30"},"\uc2dc\uc791\ud558\uae30"),(0,a.kt)("hr",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"dependencies:\n  auto_updater: ^0.1.7\n")),(0,a.kt)("p",null,"\uc2dc\uc791\ud55c\ub2e4."),(0,a.kt)("h2",{id:"windows"},"Windows"),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"\uc0ac\uc804-\uc791\uc5c5"},"\uc0ac\uc804 \uc791\uc5c5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"choco install openssl\n")),(0,a.kt)("p",null,"windows\ub294 openssl\uc744 \uc124\uce58\ud574\uc57c\ud55c\ub2e4."),(0,a.kt)("p",null,"\uadf8\ub9ac\uace0 ",(0,a.kt)("inlineCode",{parentName:"p"},"C:\\Program Files\\OpenSSL-Win64\\bin")," \uc774\ub7f0\uac70 \uac19\uc740 openssl \uacbd\ub85c\ub97c \uc2dc\uc2a4\ud15c \ud658\uacbd \ubcc0\uc218\ub85c \ucd94\uac00\ud55c\ub2e4."),(0,a.kt)("h3",{id:"\ud0a4-\ubc1c\uae09"},"\ud0a4 \ubc1c\uae09"),(0,a.kt)("hr",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"dart run auto_updater:generate_keys\n")),(0,a.kt)("p",null,"\uba85\ub839\uc5b4\ub97c \uc785\ub825\ud558\uba74 "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"Generated two files:\ndsa_priv.pem: your private key. Keep it secret and don't share it!\ndsa_pub.pem: public counterpart to include in youe app.\nBACK UP YOUR PRIVATE KEY AND KEEP IT SAFE!\nIf you lose it, your users will be unable to upgrade!\n")),(0,a.kt)("p",null,"\uc774\ub807\uac8c \ub098\uc62c \uac83\uc785\ub2c8\ub2e4. dsa_prive.pem\uacfc dsa_pub.pem\uc774 \uc0dd\uacbc\ub2e4\ub294 \ub73b\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uadf8\ub7fc ",(0,a.kt)("inlineCode",{parentName:"p"},"windows/runner/Runner.rc")," \ub9e8 \uc544\ub798\uc5d0"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'...\n\n+/////////////////////////////////////////////////////////////////////////////\n+//\n+// WinSparkle\n+//\n\n+// And verify signature using DSA public key:\n+DSAPub      DSAPEM      "../../dsa_pub.pem"\n')),(0,a.kt)("p",null,"\uc774 \ub0b4\uc6a9\uc744 \ucd94\uac00\ud574\uc8fc\uba74 \ub429\ub2c8\ub2e4."),(0,a.kt)("h3",{id:"dart-\ucf54\ub4dc-\ucd94\uac00"},"dart \ucf54\ub4dc \ucd94\uac00"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-dart"},"import 'package:auto_updater/auto_updater.dart';\n\nvoid main() async {\n  // Must add this line.\n  WidgetsFlutterBinding.ensureInitialized();\n\n  String feedURL = 'http://localhost:8080/appcast.xml';\n  await autoUpdater.setFeedURL(feedURL);\n  await autoUpdater.checkForUpdates();\n  await autoUpdater.setScheduledCheckInterval(3600);\n\n  runApp(MyApp());\n}\n")),(0,a.kt)("p",null,"dart\uc5d0\uc11c \uc0ac\uc6a9\ud558\uae30 \uc704\ud574\uc11c \uc774\ub807\uac8c \ucd94\uac00\ud560 \uc218 \uc788\ub294\ub370 setFeedURL\uc744 \ud1b5\ud574\uc11c \uc11c\ubc84\uc5d0 \uc788\ub294 ",(0,a.kt)("inlineCode",{parentName:"p"},"appcast.xml")," \ud30c\uc77c\uc744 \ud655\uc778\ud558\uae30 \uc704\ud55c url\uc744 \uc124\uc815\ud560 \uc218 \uc788\uace0"),(0,a.kt)("p",null,"update\uac00 \ud544\uc694\ud55c\uc9c0 ",(0,a.kt)("inlineCode",{parentName:"p"},"checkForUpdates()"),"\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\uace0"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"setScheduledCheckInterval()")," \uc774\uac83\uc774 \uc788\ub294\ub370 \uc8fc\uae30\uc801\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8 \ud655\uc778\ud558\ub294 \uac83\uc785\ub2c8\ub2e4."),(0,a.kt)("h3",{id:"distribute_optionsyaml"},"distribute_options.yaml"),(0,a.kt)("p",null,"distribute_options.yaml\ub97c \uc791\uc131\ud574\uc57c\ud569\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"output: dist/\nreleases:\n  - name: dev\n    jobs:\n      - name: release-windows\n        package:\n          platform: windows\n          target: exe\n          build_args:\n            dart-define:\n              APP_ENV: dev\n")),(0,a.kt)("p",null,"\uc608\uc2dc\ub85c \uc774\ub807\uac8c \ub9cc\ub4e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ud328\ud0a4\uc9d5 \ud574\uc11c \ub098\uc628 \ud30c\uc77c\uc740 ",(0,a.kt)("inlineCode",{parentName:"p"},"dist")," \ud3f4\ub354 \ubc11\uc5d0 \ub098\uc624\ub3c4\ub85d \uba85\uc2dc\ud55c \uac83\uc785\ub2c8\ub2e4."),(0,a.kt)("h3",{id:"flutter_distributor"},"flutter_distributor"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://distributor.leanflutter.dev/"},"flutter_distributor \ub9c1\ud06c")," \uc5d0 \ub4e4\uc5b4\uac00\ubcf4\uba74 \uc880 \ub354 \uc790\uc138\ud55c \ub0b4\uc6a9\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"flutter_distributor release --name dev --jobs release-windows\n")),(0,a.kt)("p",null,"\uc774\ub807\uac8c \ud574\uc57c\ud558\ub294\ub370 \uc544\ub9c8 \uc5d0\ub7ec\uac00 \ub0a0 \uac83\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"windows/packaging/exe/make_config.yaml")," \ud30c\uc77c\uc774 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="make_config.yaml"',title:'"make_config.yaml"'},"app_id: 15B248E0-3E58-4509-AA5D-1FC749611FE3\npublisher: My Company, Inc.\npublisher_url: https://www.example.com/\ndisplay_name: Update_test\ncreate_desktop_icon: false\ninstall_dir_name: Update_test\nlocales:\n  - kr\n")),(0,a.kt)("p",null,"\uc774\ub7f0\uc2dd\uc73c\ub85c \uc791\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."))}c.isMDXComponent=!0}}]);