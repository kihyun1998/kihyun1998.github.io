"use strict";(self.webpackChunkblogsaurus=self.webpackChunkblogsaurus||[]).push([[1501],{3905:(e,t,n)=>{n.d(t,{Zo:()=>i,kt:()=>m});var a=n(7294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var p=a.createContext({}),u=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},i=function(e){var t=u(e.components);return a.createElement(p.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},k=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,r=e.originalType,p=e.parentName,i=o(e,["components","mdxType","originalType","parentName"]),c=u(n),k=l,m=c["".concat(p,".").concat(k)]||c[k]||d[k]||r;return n?a.createElement(m,s(s({ref:t},i),{},{components:n})):a.createElement(m,s({ref:t},i))}));function m(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=n.length,s=new Array(r);s[0]=k;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[c]="string"==typeof e?e:l,s[1]=o;for(var u=2;u<r;u++)s[u]=n[u];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}k.displayName="MDXCreateElement"},3931:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>u});var a=n(7462),l=(n(7294),n(3905));const r={sidebar_position:1},s="[GitHub Actions] self-host runner \uc0ac\uc6a9\ud558\uae30 in Ubuntu",o={unversionedId:"dev-ops/dev-ops1",id:"dev-ops/dev-ops1",title:"[GitHub Actions] self-host runner \uc0ac\uc6a9\ud558\uae30 in Ubuntu",description:"\uc0ac\uc6a9\ud558\uae30 \uc804\uc5d0 \uba3c\uc800 \ud658\uacbd \uc124\uc815\uc744 \ud569\ub2c8\ub2e4.",source:"@site/docs/dev-ops/dev-ops1.md",sourceDirName:"dev-ops",slug:"/dev-ops/dev-ops1",permalink:"/docs/dev-ops/dev-ops1",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"backSidebar",previous:{title:"[gRPC] 5. \ub2e4\uc2dc gRPC\uc5d0 \ub300\ud558\uc5ec",permalink:"/docs/gRPC/grpc5"},next:{title:"[NodeJS] \u2733\ufe0f 1. gRPC \uac1c\ub150",permalink:"/docs/nodejs/nodejs1"}},p={},u=[{value:"\ud658\uacbd\uc124\uc815",id:"\ud658\uacbd\uc124\uc815",level:2},{value:"Ubuntu \uc124\uce58",id:"ubuntu-\uc124\uce58",level:3},{value:"Git \uc124\uce58",id:"git-\uc124\uce58",level:3},{value:"Go \uc124\uce58",id:"go-\uc124\uce58",level:3},{value:"Runner \ub2e4\uc6b4\ub85c\ub4dc",id:"runner-\ub2e4\uc6b4\ub85c\ub4dc",level:3},{value:"Runner \ub2e4\uc6b4\ub85c\ub4dc \uc808\ucc28",id:"runner-\ub2e4\uc6b4\ub85c\ub4dc-\uc808\ucc28",level:3},{value:"Runner \uc124\uc815",id:"runner-\uc124\uc815",level:3},{value:"yaml\ud30c\uc77c \uc124\uc815",id:"yaml\ud30c\uc77c-\uc124\uc815",level:2},{value:"sftp\ub85c \ud30c\uc77c \uc774\ub3d9",id:"sftp\ub85c-\ud30c\uc77c-\uc774\ub3d9",level:2},{value:"SSH key \ubc1c\uae09 \ubc0f \ub4f1\ub85d",id:"ssh-key-\ubc1c\uae09-\ubc0f-\ub4f1\ub85d",level:3},{value:"Github Secrets \ub4f1\ub85d",id:"github-secrets-\ub4f1\ub85d",level:3},{value:"yaml \ud30c\uc77c \uc791\uc131",id:"yaml-\ud30c\uc77c-\uc791\uc131",level:3},{value:"self-hosted VM\uc5d0 Docker \uc124\uce58",id:"self-hosted-vm\uc5d0-docker-\uc124\uce58",level:3},{value:"\ud30c\uc77c \uc804\uc1a1 \ud6c4 \uc800\uc7a5\uc18c clean\ud558\uae30",id:"\ud30c\uc77c-\uc804\uc1a1-\ud6c4-\uc800\uc7a5\uc18c-clean\ud558\uae30",level:2},{value:"\ucd94\uac00\uc815\ub9ac",id:"\ucd94\uac00\uc815\ub9ac",level:2},{value:"1. workspace",id:"1-workspace",level:3},{value:"2. \ud658\uacbd\ubcc0\uc218 \uc0ac\uc6a9",id:"2-\ud658\uacbd\ubcc0\uc218-\uc0ac\uc6a9",level:3},{value:"3. appleboy/scp-action\uc758 \uae30\ub2a5",id:"3-appleboyscp-action\uc758-\uae30\ub2a5",level:3}],i={toc:u},c="wrapper";function d(e){let{components:t,...r}=e;return(0,l.kt)(c,(0,a.Z)({},i,r,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"github-actions-self-host-runner-\uc0ac\uc6a9\ud558\uae30-in-ubuntu"},"[GitHub Actions]"," self-host runner \uc0ac\uc6a9\ud558\uae30 in Ubuntu"),(0,l.kt)("p",null,"\uc0ac\uc6a9\ud558\uae30 \uc804\uc5d0 \uba3c\uc800 \ud658\uacbd \uc124\uc815\uc744 \ud569\ub2c8\ub2e4."),(0,l.kt)("h2",{id:"\ud658\uacbd\uc124\uc815"},"\ud658\uacbd\uc124\uc815"),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"ubuntu-\uc124\uce58"},"Ubuntu \uc124\uce58"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://ubuntu.com/download/desktop"},"\uc774\uacf3\uc5d0\uc11c")," \uc6b0\ubd84\ud22c 22.04.3 LTS \ubc84\uc804 desktop\uc744 \ub2e4\uc6b4\ub85c\ub4dc \ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uadf8\ub9ac\uace0 Virtual Box\ub97c \uc0ac\uc6a9\ud574\uc11c \uc124\uce58\ud569\ub2c8\ub2e4."),(0,l.kt)("h3",{id:"git-\uc124\uce58"},"Git \uc124\uce58"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get update\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get install git\n")),(0,l.kt)("h3",{id:"go-\uc124\uce58"},"Go \uc124\uce58"),(0,l.kt)("p",null,"\ub2e4\ub978 \uc0ac\ub78c\uc758 \uae43\ud5c8\ube0c \uc800\uc7a5\uc18c\ub97c \uc774\uc6a9\ud574\uc11c \uc124\uce58\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc544\ub2c8\uba74 \uadf8\ub0e5 wget\uc744 \ud574\uc11c \uc124\uce58\ud558\ub294 \ubc29\ubc95\ub3c4 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/udhos/update-golang\ncd update-golang\nsudo ./update-golang.sh\n")),(0,l.kt)("p",null,"\uadf8\ub7ec\uba74 /usr/local/go\uc5d0 \uc124\uce58\uac00 \ub410\uace0 \ud658\uacbd\ubcc0\uc218 \ucd94\uac00\ub97c \ud574\uc90d\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"vi ~/.bashrc\n")),(0,l.kt)("p",null,"\ud658\uacbd\ubcc0\uc218 \ud3b8\uc9d1 \ud30c\uc77c\uc5d0 \ub4e4\uc5b4\uac00\uc11c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"export PATH=$PATH:/usr/local/go/bin\n")),(0,l.kt)("p",null,"\uc704 \ub0b4\uc6a9\uc744 \ucd94\uac00\ud574\uc8fc\uace0"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"source ~/.bashrc\n")),(0,l.kt)("p",null,"\ud655\uc778\ud558\ub824\uba74"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"go version\n")),(0,l.kt)("p",null,"\ud558\uba74 golang \ubc84\uc804\uc774 \ub098\uc635\ub2c8\ub2e4."),(0,l.kt)("h3",{id:"runner-\ub2e4\uc6b4\ub85c\ub4dc"},"Runner \ub2e4\uc6b4\ub85c\ub4dc"),(0,l.kt)("p",null,"\uc0ac\uc6a9\ud558\ub824\ub294 \uc800\uc7a5\uc18c\uc5d0\uc11c ",(0,l.kt)("inlineCode",{parentName:"p"},"Settings")," > ",(0,l.kt)("inlineCode",{parentName:"p"},"Actions")," > ",(0,l.kt)("inlineCode",{parentName:"p"},"Runners"),"\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"Alt text",src:n(7058).Z,width:"640",height:"293"})),(0,l.kt)("p",null,"\uc6b0\uce21 \uc0c1\ub2e8\uc5d0 ",(0,l.kt)("inlineCode",{parentName:"p"},"New self-hosted runner"),"\ub97c \ub20c\ub985\ub2c8\ub2e4."),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"Alt text",src:n(3486).Z,width:"1351",height:"806"})),(0,l.kt)("p",null,"\ub2e4\uc6b4\ub85c\ub4dc\uc640 \uc124\uc815 \uc808\ucc28\uc5d0 \ub530\ub77c \uc9c4\ud589\uc744 \ud569\ub2c8\ub2e4."),(0,l.kt)("h3",{id:"runner-\ub2e4\uc6b4\ub85c\ub4dc-\uc808\ucc28"},"Runner \ub2e4\uc6b4\ub85c\ub4dc \uc808\ucc28"),(0,l.kt)("p",null,"\uc911\uc694\ud55c\uac74 \uc5ec\uae30\uc11c\ubd80\ud130 root\ub85c \uc9c4\ud589\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"apt install curl\n")),(0,l.kt)("p",null,"\ubc11\uc5d0 \ubd80\ubd84\uc740 \ub098\uc640\uc788\ub294\ub300\ub85c \uc124\uce58\ud558\uba74 \ub429\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"curl -o actions-runner-linux-x64-2.311.0.tar.gz -L https://github.com/actions/runner/releases/download/v2.311.0/actions-runner-linux-x64-2.311.0.tar.gz\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"mkdir runner1\ntar -xvf action-runner-linux-* -C /home/user/runner1\ncd /home/user/runner1\n")),(0,l.kt)("p",null,"\uc555\ucd95\ud574\uc81c \ud558\uc2dc\uba74 ",(0,l.kt)("inlineCode",{parentName:"p"},"config.sh"),"\uacfc ",(0,l.kt)("inlineCode",{parentName:"p"},"run.sh"),"\uc774 \ub098\uc635\ub2c8\ub2e4."),(0,l.kt)("h3",{id:"runner-\uc124\uc815"},"Runner \uc124\uc815"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"./config.sh --url https://github.com/<\uc720\uc800\uc774\ub984>/<\uc800\uc7a5\uc18c\uc774\ub984> --token <\ud1a0\ud070>\n")),(0,l.kt)("p",null,"\uadf8 \ud398\uc774\uc9c0\uc5d0 \uc788\ub294\uac70 \ubcf5\uc0ac \ubd99\uc5ec\ub123\uae30 \ud558\ub294\ub370 \uc911\uc694\ud55c \uc810\uc740 ",(0,l.kt)("inlineCode",{parentName:"p"},"\uc0c8\ub85c\uace0\uce68"),"\uc744 \ud558\uace0 \ud574\uc57c\ud55c\ub2e4. \uc65c\ub0d0\ud558\uba74 \uc774\uac8c \ud1a0\ud070\uc774 \ub9cc\ub8cc\uac00 \ub418\uae30 \ub54c\ubb38\uc774\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"./run.sh\n")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"Alt text",src:n(9577).Z,width:"550",height:"181"})),(0,l.kt)("p",null,"\uc774\ub7ec\uba74 Runner \uc2e4\ud589\uae4c\uc9c0 \ub410\uc2b5\ub2c8\ub2e4."),(0,l.kt)("h2",{id:"yaml\ud30c\uc77c-\uc124\uc815"},"yaml\ud30c\uc77c \uc124\uc815"),(0,l.kt)("hr",null),(0,l.kt)("p",null,"\uc800\uc7a5\uc18c \ub8e8\ud2b8 \uacbd\ub85c\uc5d0"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},".github/workflow")," \ud3f4\ub354\ub97c \ub9cc\ub4ed\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},"name: Go\n\non:\n  push:\n    tags:\n      - 'V*'\n\njobs:\n\n  test:\n    name: \ud83e\uddbe Unit Test & Build\n    runs-on: self-hosted\n\n    steps:\n\n    - name: \u2705 Check out code into the Go module directory\n      uses: actions/checkout@v3\n\n    - name: Extract Tag name\n      run:  echo \"TAG_NAME=$(echo ${{ github.ref }} | sed 's|refs/tags/||')\" >> $GITHUB_ENV\n\n    - name: Use Tag Name\n      run:  echo \"Tag Name is $TAG_NAME\"\n\n    - name: \ud83d\udd25 Get dependencies\n      run: go mod download\n\n    - name: \ud83d\udee0\ufe0f Build\n      run: make build\n\n    - name: \ud83d\udcbd Test\n      run: make test\n")),(0,l.kt)("p",null,"\uc774\ub7f0\uc2dd\uc73c\ub85c \ud0dc\uadf8\uac00 Create \ub418\uba74 Run \ud558\ub3c4\ub85d \ud588\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc2e0\uae30\ud558\uac8c\ub3c4 \uc798 \uc791\ub3d9\ud569\ub2c8\ub2e4."),(0,l.kt)("h2",{id:"sftp\ub85c-\ud30c\uc77c-\uc774\ub3d9"},"sftp\ub85c \ud30c\uc77c \uc774\ub3d9"),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"ssh-key-\ubc1c\uae09-\ubc0f-\ub4f1\ub85d"},"SSH key \ubc1c\uae09 \ubc0f \ub4f1\ub85d"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'ssh-keygen -t rsa -b 4096 -C "Git Hub \uacc4\uc815 \uc774\uba54\uc77c"\n')),(0,l.kt)("p",null,"\ubc1c\uae09 \ubc1b\uc740 \uacf5\uac1c\ud0a4(",(0,l.kt)("inlineCode",{parentName:"p"},"id_rsa.pub"),")\ub97c \uc62e\uae38 \ub300\uc0c1 \uc11c\ubc84\uc758 ~/.ssh/authorized_keys \ud30c\uc77c\uc5d0 \ucd94\uac00\ud569\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"vim ~/.ssh/authorized_keys\n")),(0,l.kt)("h3",{id:"github-secrets-\ub4f1\ub85d"},"Github Secrets \ub4f1\ub85d"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Github repository")," > ",(0,l.kt)("inlineCode",{parentName:"p"},"Settings")," > ",(0,l.kt)("inlineCode",{parentName:"p"},"Secrets and variables")," > ",(0,l.kt)("inlineCode",{parentName:"p"},"Actions")," > ",(0,l.kt)("inlineCode",{parentName:"p"},"New repository secret")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"Alt text",src:n(7573).Z,width:"1233",height:"730"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Name"),"\uc5d0 SSH_KEY\ub77c\uace0 \uc801\uace0 ",(0,l.kt)("inlineCode",{parentName:"p"},"Secret"),"\uc5d0 \ubc1c\uae09 \ubc1b\uc740 \uac1c\uc778\ud0a4(",(0,l.kt)("inlineCode",{parentName:"p"},"id_rsa"),")\uc758 \ub0b4\uc6a9\uc744 \ub123\uc73c\uba74 \ub429\ub2c8\ub2e4."),(0,l.kt)("h3",{id:"yaml-\ud30c\uc77c-\uc791\uc131"},"yaml \ud30c\uc77c \uc791\uc131"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},"    - name: \ud83d\ude9a Transfer files use SFTP\n      uses: appleboy/scp-action@master\n      with:\n        host: <\ub300\uc0c1 IP>\n        username: <\uc811\uc18d \uacc4\uc815>\n        key: ${{ secrets.SSH_KEY }}\n        source: <\uc62e\uae38 \ud30c\uc77c>\n        target: <\uc62e\uae38 \uc704\uce58>\n")),(0,l.kt)("h3",{id:"self-hosted-vm\uc5d0-docker-\uc124\uce58"},"self-hosted VM\uc5d0 Docker \uc124\uce58"),(0,l.kt)("p",null,"appleboy \uc800\uac78 \uc0ac\uc6a9\ud558\ub824\uba74 Docker\uac00 \uc124\uce58\ub3fc\uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4."),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"apt update")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get update\n")),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"\ud544\uc694\ud55c \ud328\ud0a4\uc9c0 \uc124\uce58")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get install apt-transport-https ca-certificates curl gnupg-agent software-properties-common\n")),(0,l.kt)("ol",{start:3},(0,l.kt)("li",{parentName:"ol"},"Docker\uc758 GPG \ud0a4 \ucd94\uac00")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\n")),(0,l.kt)("ol",{start:4},(0,l.kt)("li",{parentName:"ol"},"Docker\uc758 \uacf5\uc2dd apt \uc800\uc7a5\uc18c \ucd94\uac00")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"\n')),(0,l.kt)("ol",{start:5},(0,l.kt)("li",{parentName:"ol"},"apt update")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get update\n")),(0,l.kt)("ol",{start:6},(0,l.kt)("li",{parentName:"ol"},"Docker \uc124\uce58")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get install docker-ce docker-ce-cli containerd.io\n")),(0,l.kt)("ol",{start:7},(0,l.kt)("li",{parentName:"ol"},"\uc2e4\ud589 \ud655\uc778")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo systemctl status docker\n")),(0,l.kt)("ol",{start:8},(0,l.kt)("li",{parentName:"ol"},"docker.sock \uad8c\ud55c \ubcc0\uacbd")),(0,l.kt)("p",null,"root\uad8c\ud55c\uc73c\ub85c "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chmod 666 /run/docker.sock\n")),(0,l.kt)("p",null,"\uad8c\ud55c \ubcc0\uacbd\ud558\uc9c0 \uc54a\uc73c\uba74 Permission denied \ub098\uc635\ub2c8\ub2e4."),(0,l.kt)("h2",{id:"\ud30c\uc77c-\uc804\uc1a1-\ud6c4-\uc800\uc7a5\uc18c-clean\ud558\uae30"},"\ud30c\uc77c \uc804\uc1a1 \ud6c4 \uc800\uc7a5\uc18c clean\ud558\uae30"),(0,l.kt)("hr",null),(0,l.kt)("p",null,"\ubcf4\uc548\uc744 \uc704\ud574\uc11c \uc800\uc7a5\uc18c\ub97c \ube44\uc6cc\uc918\uc57c \ud558\ub294 \uacbd\uc6b0\uac00 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},"    - name: \ud83e\uddf9 Clean up local directory\n      run: rm -rf <\uc800\uc7a5\uc18c \uc704\uce58>/<\uc800\uc7a5\uc18c \uc774\ub984>/*\n")),(0,l.kt)("p",null,"\uc774\ub807\uac8c \uc548\ud558\uba74 \uc5d0\ub7ec\ub09c\ub2e4."),(0,l.kt)("p",null,"\uc800\uc7a5\uc18c\uac00 test\ub77c\uace0 \ud55c\ub2e4\uba74"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"rm -rf /home/user/runner1/_work/test/test/*\n")),(0,l.kt)("p",null,"\uc704\uc640\uac19\uc774 \ud574\uc57c\ud55c\ub2e4."),(0,l.kt)("h2",{id:"\ucd94\uac00\uc815\ub9ac"},"\ucd94\uac00\uc815\ub9ac"),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"1-workspace"},"1. workspace"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},"${{ github.workspace }}\n")),(0,l.kt)("p",null,"\uc704\uc640 \uac19\uc774 \uc0ac\uc6a9\ud55c\ub2e4\uba74 /home/../runner/repo/repo \uacbd\ub85c\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4."),(0,l.kt)("h3",{id:"2-\ud658\uacbd\ubcc0\uc218-\uc0ac\uc6a9"},"2. \ud658\uacbd\ubcc0\uc218 \uc0ac\uc6a9"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},"${{ env.TEST_VAL }}\n")),(0,l.kt)("p",null,"\ud658\uacbd\ubcc0\uc218\ub97c \ub4f1\ub85d\ud588\ub2e4\uba74\uc704\ucc98\ub7fc \ud65c\uc6a9\ud560 \uc218 \uc788\ub2e4."),(0,l.kt)("h3",{id:"3-appleboyscp-action\uc758-\uae30\ub2a5"},"3. appleboy/scp-action\uc758 \uae30\ub2a5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},'    - name: \ud83d\ude9a Transfer files use SFTP\n      uses: appleboy/scp-action@master\n      with:\n        host: IP\n        username: root\n        key: ${{ secrets.SSH_KEY }}\n        source: "${{ github.workspace }}/*\n        target: "~/build/${{ \uc5c6\ub294 \ud3f4\ub354 }}"\n')),(0,l.kt)("p",null,"\uc5c6\ub294 \ud3f4\ub354\ub97c \ub123\uc73c\uba74 \uc54c\uc544\uc11c \ub9cc\ub4e4\uc5b4\uc900\ub2e4."),(0,l.kt)("p",null,"\ub2e8\uc810\uc740 \ub9cc\ub4e4\uc5b4\uc918\ub3c4 github.workspace \uacbd\ub85c\ub294 \uc790\ub3d9 \ucd94\uac00\ub77c \uc5b4\uca54 \uc218 \uc5c6\uc74c"))}d.isMDXComponent=!0},7058:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image1-729db7cffe6dd72b0fa7612b63aed460.png"},3486:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image2-bafbc91aeb8ccb119b4466b67634a84a.png"},9577:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image4-732c9f7dc32dac554f6171885cc8b5f9.png"},7573:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image5-52c5307c5df8f70760a5af58d1f3786c.png"}}]);