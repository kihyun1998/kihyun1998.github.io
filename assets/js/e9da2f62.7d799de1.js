"use strict";(self.webpackChunkblogsaurus=self.webpackChunkblogsaurus||[]).push([[95027],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>m});var r=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var i=r.createContext({}),u=function(e){var n=r.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):p(p({},n),e)),t},c=function(e){var n=u(e.components);return r.createElement(i.Provider,{value:n},e.children)},s="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},k=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,i=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),s=u(t),k=a,m=s["".concat(i,".").concat(k)]||s[k]||d[k]||l;return t?r.createElement(m,p(p({ref:n},c),{},{components:t})):r.createElement(m,p({ref:n},c))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,p=new Array(l);p[0]=k;var o={};for(var i in n)hasOwnProperty.call(n,i)&&(o[i]=n[i]);o.originalType=e,o[s]="string"==typeof e?e:a,p[1]=o;for(var u=2;u<l;u++)p[u]=t[u];return r.createElement.apply(null,p)}return r.createElement.apply(null,t)}k.displayName="MDXCreateElement"},78580:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>p,default:()=>d,frontMatter:()=>l,metadata:()=>o,toc:()=>u});var r=t(87462),a=(t(67294),t(3905));const l={sidebar_position:2},p="[React + Spring + Kube] KOSTA 2",o={unversionedId:"react-spring-kube/react-spring-kube2",id:"react-spring-kube/react-spring-kube2",title:"[React + Spring + Kube] KOSTA 2",description:"---",source:"@site/docs/react-spring-kube/react-spring-kube2.md",sourceDirName:"react-spring-kube",slug:"/react-spring-kube/react-spring-kube2",permalink:"/docs/react-spring-kube/react-spring-kube2",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"studySidebar",previous:{title:"[React + Spring + Kube] KOSTA 1",permalink:"/docs/react-spring-kube/react-spring-kube1"},next:{title:"[React + Spring + Kube] KOSTA 3",permalink:"/docs/react-spring-kube/react-spring-kube3"}},i={},u=[{value:"Next.js",id:"nextjs",level:2},{value:"\uc2dc\uc791\ud558\uae30",id:"\uc2dc\uc791\ud558\uae30",level:3},{value:"bootstrap \uc124\uce58",id:"bootstrap-\uc124\uce58",level:3},{value:"next \uc791\uc131\ud558\uae30",id:"next-\uc791\uc131\ud558\uae30",level:2},{value:"\ud398\uc774\uc9c0 \uc2a4\ub2c8\ud33b",id:"\ud398\uc774\uc9c0-\uc2a4\ub2c8\ud33b",level:3},{value:"\uc808\ub300 \uacbd\ub85c",id:"\uc808\ub300-\uacbd\ub85c",level:3},{value:"redirect",id:"redirect",level:3},{value:"get",id:"get",level:3},{value:"key",id:"key",level:3},{value:"env",id:"env",level:3},{value:"proxy",id:"proxy",level:3},{value:"\ub3c4\ucee4\ub85c \ube4c\ub4dc",id:"\ub3c4\ucee4\ub85c-\ube4c\ub4dc",level:2},{value:".dockerignore",id:"dockerignore",level:3},{value:"docker file",id:"docker-file",level:3}],c={toc:u},s="wrapper";function d(e){let{components:n,...t}=e;return(0,a.kt)(s,(0,r.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"react--spring--kube-kosta-2"},"[React + Spring + Kube]"," KOSTA 2"),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"nextjs"},"Next.js"),(0,a.kt)("hr",null),(0,a.kt)("p",null,"\uac80\uc0c9\uc5d4\uc9c4 \ucd5c\uc801\ud654\ub97c \uc704\ud574\uc11c \uc0ac\uc6a9"),(0,a.kt)("p",null,"\ub9ac\uc561\ud2b8\uc758 ssr \ubc84\uc804."),(0,a.kt)("p",null,"\uc0ac\uc6a9\ud558\ub294 \uc774\uc720\ub294 \ub9ac\uc561\ud2b8\ub294 SPA\uc5ec\uc11c HTML\uc774 \ud558\ub098\uc5ec\uc11c SEO \ucd5c\uc801\ud654\uac00 \uc5b4\ub824\uc6b4\ub370 Next.js\ub294 SSR\uc774\uc5ec\uc11c SEO \ucd5c\uc801\ud654 \uac00\ub2a5"),(0,a.kt)("h3",{id:"\uc2dc\uc791\ud558\uae30"},"\uc2dc\uc791\ud558\uae30"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"npx create-next-app@latest --typescript\n")),(0,a.kt)("p",null,"\uc774\ub807\uac8c \uc2dc\uc791\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("h3",{id:"bootstrap-\uc124\uce58"},"bootstrap \uc124\uce58"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"npm i bootstrap@5.3.3\n")),(0,a.kt)("h2",{id:"next-\uc791\uc131\ud558\uae30"},"next \uc791\uc131\ud558\uae30"),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"\ud398\uc774\uc9c0-\uc2a4\ub2c8\ud33b"},"\ud398\uc774\uc9c0 \uc2a4\ub2c8\ud33b"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"rafce")," \ucf54\ub4dc \uc2a4\ub2c8\ud33b\uc73c\ub85c page\ub97c \uc2dc\uc791\ud560 \uc218 \uc788\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"export default page\n\n\nimport React from 'react'\n\nconst page = () => {\n  return (\n    <div>page</div>\n  )\n}\n\nexport default page\n")),(0,a.kt)("p",null,"\uc774\ub807\uac8c \ub098\uc624\ub294\ub370 return \uc548\uc5d0 \uc798 \uc801\uc131\ud574\uc8fc\uba74 \ub41c\ub2e4."),(0,a.kt)("h3",{id:"\uc808\ub300-\uacbd\ub85c"},"\uc808\ub300 \uacbd\ub85c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},'import NavBar from "@/app/components/NavBar";\n')),(0,a.kt)("p",null,"\uc704\ucc98\ub7fc \uc808\ub300 \uacbd\ub85c\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"@"),"\uac00 ",(0,a.kt)("inlineCode",{parentName:"p"},"src")," \ud3f4\ub354\ub97c \uac00\ub9ac\ud0a4\uace0 \uc788\ub294 \uac83 \uc774\ub2e4."),(0,a.kt)("h3",{id:"redirect"},"redirect"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"const nextConfig = {\n    async redirects() {\n        return [\n          {\n            source: '/',\n            destination: '/bookmarks',\n            permanent: true\n          }\n        ]\n      }\n};\n")),(0,a.kt)("p",null,"\ub9cc\uc57d root\ub97c \ube44\uc6cc\ub193\uace0 bookmarks\ud3f4\ub354\uc5d0 \ubaa8\ub4e0 \ud398\uc774\uc9c0\ub97c \ub123\uc5c8\uc744 \ub54c"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"bookmarks"),"\ub97c root\ub85c \uc0ac\uc6a9\ud560 \uacbd\uc6b0\uc5d0 \uc774\ub807\uac8c \uc124\uc815\ud574\uc8fc\uba74 \ub41c\ub2e4."),(0,a.kt)("h3",{id:"get"},"get"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"axios"),"\ub97c \uc0ac\uc6a9\ud55c\ub2e4."),(0,a.kt)("h3",{id:"key"},"key"),(0,a.kt)("p",null,"Next.js\ub97c \uc0ac\uc6a9\ud560 \ub54c \ud0dc\uadf8\uc5d0 \ud0a4\ub97c \uc900\ub2e4."),(0,a.kt)("p",null,"\uc774 \uc774\uc720\ub294 virtual dom \uc989 \uac00\uc0c1 \ub3d4 \ub54c\ubb38\uc5d0 \uadf8\ub807\ub2e4."),(0,a.kt)("p",null,"\uac00\uc0c1 \ub3d4\uc744 \uc0ac\uc6a9\ud558\ub294 \uc774\uc720\ub294 \ub80c\ub354\ub9c1 \ud558\ub294 \uc218\ub97c \uc904\uc774\uae30 \uc704\ud574\uc11c \uc774\ub2e4. \uc131\ub2a5\uc744 \uc704\ud55c \ubd80\ubd84 \uc5c5\ub370\uc774\ud2b8\ub97c \uc704\ud574\uc11c."),(0,a.kt)("h3",{id:"env"},"env"),(0,a.kt)("p",null,".env\ud30c\uc77c\ub85c application.properties\ucc98\ub7fc \uc124\uc815 \ubc14\uafc0 \uc218 \uc788\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},".env.development")," \ub610\ub294  ",(0,a.kt)("inlineCode",{parentName:"p"},".env.production")),(0,a.kt)("p",null,"\uc774\ub807\uac8c \uc124\uc815\ud574\uc11c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4."),(0,a.kt)("h3",{id:"proxy"},"proxy"),(0,a.kt)("p",null,"\uc5b4\ub5bb\uac8c \ud588\ub2e4.."),(0,a.kt)("h2",{id:"\ub3c4\ucee4\ub85c-\ube4c\ub4dc"},"\ub3c4\ucee4\ub85c \ube4c\ub4dc"),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"dockerignore"},".dockerignore"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"node_modules"),"\uc640 ",(0,a.kt)("inlineCode",{parentName:"p"},".next"),"\ub97c .gitignore\uac19\uc740 .dockerignore\uc5d0 \ub123\uc5b4\uc57c\ud55c\ub2e4."),(0,a.kt)("h3",{id:"docker-file"},"docker file"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-dockerfile"},"FROM node:18-alpine as base\nRUN apk add --no-cache libc6-compat\nWORKDIR /app\nCOPY package*.json ./\nEXPOSE 3000\n\nFROM base as builder\nWORKDIR /app\nCOPY . .\nRUN npm run build\n\n\nFROM base as production\nWORKDIR /app\n\nENV NODE_ENV=production\nRUN npm ci\n\nRUN addgroup -g 1001 -S nodejs\nRUN adduser -S nextjs -u 1001\nUSER nextjs\n\n\nCOPY --from=builder /app/next.config.mjs ./\nCOPY --from=builder /app/public ./public\nCOPY --from=builder --chown=nextjs:nodejs /app/.next ./.next\nCOPY --from=builder /app/node_modules ./node_modules\nCOPY --from=builder /app/package.json ./package.json\n\nCMD npm start\n\nFROM base as dev\nENV NODE_ENV=development\nRUN npm install \nCOPY . .\nCMD npm run dev\n")),(0,a.kt)("p",null,"\uc704\uc640 \uac19\ub2e4."),(0,a.kt)("p",null,"builder\uc778 \uacbd\uc6b0\uc640 production\uc778 \uacbd\uc6b0\ub97c \ub098\ub220\uc11c docker file \ub9cc\ub4e4\uace0 \uc788\ub2e4."),(0,a.kt)("p",null,"\uc54c\ud30c\uc778\uc744 \uc0ac\uc6a9\ud574\uc11c \uacbd\ub7c9\ud654\ub97c \ud588\ub2e4."),(0,a.kt)("p",null,"build stage\uc5d0\uc11c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"npm run build\n")),(0,a.kt)("p",null,"\ub294 \ube4c\ub4dc \uba85\ub839\uc5b4\ub2e4."),(0,a.kt)("p",null,"production stage\uc5d0\uc11c\ub294 node env\ub97c production\uc73c\ub85c \uc124\uc815\ud558\uace0 npm ci\ub97c \uc2e4\ud589\ud574\uc11c production \ud658\uacbd\uc5d0\uc11c \ud544\uc694\ud55c npm\uc744 \uc124\uce58\ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uadf8\ub8f9\uc744 \uc124\uc815\ud558\uace0 \ube4c\ub4dc \ub2e8\uacc4\uc5d0\uc11c \uc0dd\uc131\ub41c \ud30c\uc77c\ub4e4\uc744 \ubcf5\uc0ac\ud574\uc11c \uc2dc\uc791\ud569\ub2c8\ub2e4."))}d.isMDXComponent=!0}}]);