---
sidebar_position: 3
---

# [NextJS] Routing
---

## ë°©ì‹
---

nextjsì—ì„œ ë¼ìš°íŒ…ì€ í´ë”ì´ë¦„ìœ¼ë¡œ í•©ë‹ˆë‹¤. ë”°ë¡œ urlì„ ì§€ì •í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ í´ë”êµ¬ì¡°ë¡œ í•˜ëŠ”ë° í´ë”ì— page.tsxê°€ ìˆìœ¼ë©´ ê²½ë¡œê°€ ìƒê¹ë‹ˆë‹¤.

## notfound ì„¤ì •
---

`app/not-found.tsx`ë¥¼ ìƒì„±í•˜ë©´ notfound ì‹œ ì´ í˜ì´ì§€ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.



## usePathname
---

hookì¸ë° path nameì„ ê°€ì ¸ì˜¤ëŠ” í›…ì…ë‹ˆë‹¤.


## use client
---

use clinetë¥¼ í•´ì•¼ hydrationì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

hydrationì€ CSRí•œ HTMLì— JavaScript ê¸°ëŠ¥ì„ ì¶”ê°€í•´ì£¼ëŠ”ê±°ì—ìš”.

use clientí•œ ì• ë“¤í•œí…Œë§Œ hydrationì„ í•˜ëŠ” ì´ìœ ëŠ” íš¨ìœ¨ì„± ë•Œë¬¸ì´ê³  react hookì„ ì‚¬ìš©í•˜ë©´ use clientë¥¼ ì¨ì•¼í•´ìš”


## layout
---

```
app/
 â””â”€â”€ layout.tsx       <-- ğŸ¥‡ ê°€ì¥ ë¨¼ì € ì‹¤í–‰
 â””â”€â”€ page.tsx         <-- ğŸ¥ˆ ì‹¤ì œ í˜ì´ì§€ ë‚´ìš©
 â””â”€â”€ loading.tsx      <-- ğŸ•“ ë¡œë”© ì¤‘ì¼ ë•Œ ë³´ì—¬ì¤Œ (ì„ íƒ)
 â””â”€â”€ error.tsx        <-- âŒ ì—ëŸ¬ ë°œìƒ ì‹œ ë³´ì—¬ì¤Œ (ì„ íƒ)
 â””â”€â”€ not-found.tsx    <-- ğŸ” 404 ì²˜ë¦¬ (ì„ íƒ)
```

---

### ë Œë”ë§ ìˆœì„œ íë¦„ ìš”ì•½

1. **layout.tsx**

   * í˜ì´ì§€ì˜ ê³µí†µ ë ˆì´ì•„ì›ƒ (Header, Sidebar ë“±)
   * ëª¨ë“  ìì‹ í˜ì´ì§€ì— ì ìš©ë¨
   * ì„œë²„ì—ì„œ ë¨¼ì € ë Œë”ë§ë¨
   * ìƒíƒœë‚˜ í›…ì€ ì‚¬ìš© ëª»í•¨ (`use client` ì—†ì´ ì‘ì„±í•´ì•¼ í•¨)

2. **page.tsx**

   * ë¼ìš°íŠ¸ì— í•´ë‹¹í•˜ëŠ” ì‹¤ì œ í˜ì´ì§€ ë‚´ìš©
   * ì—¬ê¸°ë„ ì„œë²„ ì»´í¬ë„ŒíŠ¸ê°€ ê¸°ë³¸
   * ë°ì´í„°ë¥¼ `fetch`í•´ì„œ ë Œë”ë§í•¨

3. **loading.tsx** (ì„ íƒ)

   * ì„œë²„ ì»´í¬ë„ŒíŠ¸ê°€ ë°ì´í„°ë¥¼ fetchí•˜ëŠ” ë™ì•ˆ í‘œì‹œ
   * `suspense` ê¸°ë°˜ìœ¼ë¡œ ì‘ë™

4. **client ì»´í¬ë„ŒíŠ¸(`use client`)**

   * í•„ìš”í•œ ë¶€ë¶„ë§Œ í´ë¼ì´ì–¸íŠ¸ë¡œ ì „ë‹¬ë¼ hydration ë¨
   * ì—¬ê¸°ì—ë§Œ React Hook(`useState`, `useEffect`) ì‚¬ìš© ê°€ëŠ¥

---

## ğŸ”§ ì˜ˆì‹œ: ê°„ë‹¨í•œ êµ¬ì¡°

```
app/
 â””â”€â”€ layout.tsx
 â””â”€â”€ dashboard/
      â””â”€â”€ page.tsx
      â””â”€â”€ loading.tsx
```

> `localhost:3000/dashboard` ì ‘ì† ì‹œ:

* `layout.tsx` â†’ ê³µí†µ ë ˆì´ì•„ì›ƒ ë¨¼ì € ì‹¤í–‰ë¨
* `page.tsx` â†’ dashboard ë‚´ìš© ë¡œë”©
* (í•„ìš” ì‹œ) `loading.tsx` â†’ fetch ì¤‘ì— ë³´ì—¬ì§

---

ì´ê²Œ ì–´ë§ˆì–´ë§ˆ í•œê²Œ dashboard ì•ˆì— layout.tsxê°€ ìˆìœ¼ë©´ ë˜ wrappingí•´ì„œ ì ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤..

ì´ê²Œ ì§„ì§œ ì¤‘ìš”í•œê±°ì„.

ì •ë¦¬í•˜ìë©´ layoutì€ ì „ì—­ì ì¸ ì„¤ì •ì„ í•´ì£¼ëŠ” ê·¸ëŸ°ê±°

ë” ì¤‘ìš”í•œ ê²ƒì€ layoutì€ ê²½ë¡œ(í´ë”)ë§ˆë‹¤ layout.tsxë¥¼ ê°–ì„ ìˆ˜ ìˆëŠ”ë° ì´ëŠ” ìœ„ì—ì„œ(ìƒìœ„ì—ì„œ) ì„¤ì •í•œ layoutì„ ìƒì†ë°›ëŠ”ë‹¤ëŠ” ê±°ì„. ì •í™•íˆ ìƒì†ì´ë¼ê¸°ë³´ë‹¤ëŠ” ì¤‘ì²©? ëœë‹¤. ì´ë¥¼ ìœ ì˜í•´ì•¼í•¨.

## metadata
---

metadataëŠ” page, layoutì—ì„œë§Œ exportí•  ìˆ˜ ìˆëŠ”ê±´ë° title, descriptionì„ ì„¤ì •í•˜ëŠ”ê±´ë° layoutê³¼ ê°™ì´ ë°‘ì— ì¤‘ì²©ë˜ì„œ ì ìš©ë˜ì§€ë§Œ. í´ë”ì— page, layoutì—ì„œ ê°™ì€ í‚¤ê°’ìœ¼ë¡œ ë‹¤ë¥¸ ê°’ì´ ë“¤ì–´ê°€ìˆë‹¤ë©´ ê·¸ í˜ì´ì§€ëŠ” ê·¸ metadataë¥¼ ì´ìš©í•¨.

metadataë¥¼ í…œí”Œë¦¿ìœ¼ë¡œ ë§Œë“¤ìˆ˜ ìˆë‹¤ëŠ” ì†Œì‹ë„ ìˆìŒ

```tsx
export const metadata :Metadata = {
  title: {
    template: "%s | Next Movies",
    default: "Loading...",
  },
  description: 'Generated by Next.js',
}
```

ì´ë ‡ê²Œ ìƒìœ„ layoutì´ë‚˜ pageì—ì„œ metadata ì •ì˜í•˜ê³ 

```tsx
export const metadata = {
    title: 'Home',
}

```

home/page.tsxì—ì„œ ì´ë ‡ê²Œ í•˜ë©´ ì˜ ë‚˜ì˜´

## dynamic route
---

dynamic routeë¥¼ í•˜ë ¤ë©´ í´ë”ì— `[id]`ì´ëŸ°ê±¸ í•´ì£¼ë©´ ë¨. ê·¸ëŸ¼ dynamic routingí•  ìˆ˜ ìˆëŠ”ë° ì´ê±°ëŠ” `[id]` ë°‘ì— ìˆëŠ” page ì»´í¬ë„ŒíŠ¸ê°€ paramsë¡œ ë°›ìŒ. searchParamsë„ ë°›ì„ ìˆ˜ ìˆìŒ.

ì´ê±¸ propsë¡œ ë°›ì•„ì„œ ì˜ ì²˜ë¦¬í•˜ë©´ ì‚¬ìš©ê°€ëŠ¥.

use clientë¥¼ ì‚¬ìš©í•˜ë©´ useParams, useSearchParamsë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŒ.

